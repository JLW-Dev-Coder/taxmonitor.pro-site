<!--/app/index.html-->
<!doctype html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tax Monitor Pro — Status</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&amp;display=swap" rel="stylesheet">

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/assets/favicon.ico" sizes="any">
  <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
  <link rel="apple-touch-icon" href="/assets/favicon.ico">

  <style>
    body { box-sizing: border-box; }
    * { font-family: 'DM Sans', sans-serif; }
    .gradient-text {
      background: linear-gradient(135deg, #F59E0B, #D97706);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  </style>

  <style>
    .tm-progress-fill { transition: width 220ms ease; }

    .tm-step--active .tm-step-label,
    .tm-step--active .tm-step-num { color: #f59e0b; }

    .tm-step--active .tm-step-num { border-color: rgba(245, 158, 11, 0.55); }

    .tm-step--done { opacity: 0.92; }

    .tm-step--done .tm-step-num {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.22);
      color: rgba(241, 245, 249, 0.92);
    }

    .tm-step--done .tm-step-label { color: rgba(241, 245, 249, 0.92); }
  </style>

  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
</head>

<body class="h-full bg-slate-950 text-slate-100">
  <div id="app" class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="sticky top-0 z-50 border-b border-slate-800/60 bg-slate-950/70 backdrop-blur">
      <div class="mx-auto flex max-w-6xl items-center justify-between px-6 py-4">
        <a href="/site/index.html" class="flex items-center gap-3">
          <span class="flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-amber-500 to-amber-600 text-slate-950 font-bold">
            TM
          </span>
          <span class="font-semibold tracking-tight">Tax Monitor Pro</span>
        </a>

        <nav class="hidden items-center gap-8 md:flex">
          <a href="/site/index.html" class="text-sm text-slate-300 hover:text-white transition">Home</a>
          <a href="/site/pricing.html" class="text-sm text-slate-300 hover:text-white transition">Pricing</a>
        </nav>

        <div class="flex items-center gap-3">
          <a
            href="/app/index.html"
            class="hidden md:inline-flex items-center gap-2 rounded-lg border border-slate-700/60 bg-slate-900/40 px-4 py-2 text-sm font-semibold text-slate-100 hover:bg-slate-900/70 transition"
          >Status</a>

          <a
            href="/app/intake.html"
            class="inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-amber-500 to-amber-600 px-4 py-2 text-sm font-semibold text-slate-950 hover:from-amber-400 hover:to-amber-500 transition"
          >Start intake →</a>
        </div>
      </div>
    </header>

    <main class="flex-1">
      <section class="px-6 py-12 md:py-16">
        <div class="mx-auto max-w-3xl">

          <!-- Steps / Progress -->
          <div class="rounded-2xl border border-slate-800/60 bg-slate-900/30 p-6 md:p-8 mb-8">
            <div class="mb-5">
              <div class="text-xs text-slate-500 mb-2">Progress</div>
              <div class="h-2 rounded-full bg-slate-800/70 border border-slate-700/50 overflow-hidden">
                <div id="tm-progress-fill" class="tm-progress-fill h-full bg-gradient-to-r from-amber-500 to-amber-600" style="width:25%;"></div>
              </div>
            </div>

            <div class="grid grid-cols-4 gap-2 md:gap-4">
              <div id="step-1" class="tm-step flex flex-col items-center text-center">
                <div class="tm-step-num flex h-9 w-9 items-center justify-center rounded-full border border-slate-700/70 bg-slate-950/30 text-sm font-bold text-slate-300">1</div>
                <div class="tm-step-label mt-2 text-xs md:text-sm text-slate-400">Intake</div>
              </div>

              <div id="step-2" class="tm-step flex flex-col items-center text-center">
                <div class="tm-step-num flex h-9 w-9 items-center justify-center rounded-full border border-slate-700/70 bg-slate-950/30 text-sm font-bold text-slate-300">2</div>
                <div class="tm-step-label mt-2 text-xs md:text-sm text-slate-400">Offer</div>
              </div>

              <div id="step-3" class="tm-step flex flex-col items-center text-center">
                <div class="tm-step-num flex h-9 w-9 items-center justify-center rounded-full border border-slate-700/70 bg-slate-950/30 text-sm font-bold text-slate-300">3</div>
                <div class="tm-step-label mt-2 text-xs md:text-sm text-slate-400">Agreement</div>
              </div>

              <div id="step-4" class="tm-step flex flex-col items-center text-center">
                <div class="tm-step-num flex h-9 w-9 items-center justify-center rounded-full border border-slate-700/70 bg-slate-950/30 text-sm font-bold text-slate-300">4</div>
                <div class="tm-step-label mt-2 text-xs md:text-sm text-slate-400">Payment</div>
              </div>
            </div>

            <div class="mt-6 border-t border-slate-800/60 pt-6 text-center">
              <h1 class="text-3xl md:text-5xl font-bold tracking-tight mb-3">
                Check your <span class="gradient-text">Status</span>
              </h1>
              <p class="text-slate-400 text-lg">
                Enter your access code to view your current step and next action.
              </p>
            </div>
          </div>

          <!-- Status Lookup -->
          <div class="rounded-2xl border border-slate-800/60 bg-slate-900/30 p-6 md:p-8">
            <!--
              Replace action with your Worker endpoint that resolves an access code.
              Suggested pattern:
              - GET  /status?code=XXXX
              - POST /status  (application/x-www-form-urlencoded)
            -->
            <form id="tm-status" method="get" action="/status" accept-charset="UTF-8" class="space-y-6">
              <div>
                <label for="access_code" class="block text-sm font-semibold text-slate-200 mb-2">Access code</label>
                <input
                  id="access_code"
                  name="code"
                  autocomplete="one-time-code"
                  inputmode="text"
                  class="w-full rounded-xl border border-slate-700/70 bg-slate-950/40 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"
                  placeholder="Example: TM-8F2KQ"
                  required
                  type="text"
                >
                <p class="mt-2 text-xs text-slate-500">Your code is provided after intake submission or by email.</p>
              </div>

              <div class="grid gap-3 md:grid-cols-2">
                <button
                  type="submit"
                  class="inline-flex w-full items-center justify-center rounded-xl bg-gradient-to-r from-amber-500 to-amber-600 px-4 py-3 text-sm font-semibold text-slate-950 hover:from-amber-400 hover:to-amber-500 transition"
                >View status →</button>

                <a
                  href="/app/intake.html"
                  class="inline-flex w-full items-center justify-center rounded-xl border border-slate-700/70 bg-slate-950/20 px-4 py-3 text-sm font-semibold text-slate-100 hover:bg-slate-950/35 transition"
                >Start intake</a>
              </div>

              <div class="rounded-xl border border-slate-800/60 bg-slate-950/25 p-4 text-sm text-slate-400">
                <div class="font-semibold text-slate-200 mb-2">No access code yet?</div>
                <ul class="list-disc list-inside space-y-1">
                  <li>Complete the intake form to generate your status flow.</li>
                  <li>If you already submitted intake, check your inbox for your access code.</li>
                </ul>
              </div>
            </form>
          </div>

          <div class="mt-8 text-center text-sm text-slate-500">
            Monitoring does not create IRS representation. Representation, filing, and resolution are separate engagements.
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-800/60 bg-slate-950/70">
      <div class="mx-auto max-w-6xl px-6 py-10">
        <div class="flex flex-col gap-3 text-xs text-slate-500 md:flex-row md:items-center md:justify-between">
          <div>© <span id="footer-year"></span> Tax Monitor Pro. All rights reserved.</div>
          <div class="flex gap-4">
            <a class="hover:text-slate-300 transition" href="/legal/privacy.html">Privacy</a>
            <a class="hover:text-slate-300 transition" href="/legal/terms.html">Terms</a>
          </div>
        </div>
      </div>
    </footer>

  </div>

  <script>
    (function () {
      var y = document.getElementById('footer-year');
      if (y) y.textContent = String(new Date().getFullYear());
    })();
  </script>

  <script>
    (function () {
      function clamp(n, min, max) {
        return Math.max(min, Math.min(max, n));
      }

      function setProgress(step) {
        var s = clamp(Number(step || 1), 1, 4);
        var fill = document.getElementById('tm-progress-fill');
        if (fill) fill.style.width = String((s / 4) * 100) + '%';

        for (var i = 1; i <= 4; i++) {
          var el = document.getElementById('step-' + i);
          if (!el) continue;

          el.classList.remove('tm-step--active');
          el.classList.remove('tm-step--done');

          if (i < s) el.classList.add('tm-step--done');
          if (i === s) el.classList.add('tm-step--active');

          var num = el.querySelector('.tm-step-num');
          var label = el.querySelector('.tm-step-label');
          if (num) num.classList.toggle('text-slate-300', i !== s);
          if (label) label.classList.toggle('text-slate-400', i !== s);
        }
      }

      var params = new URLSearchParams(window.location.search || '');
      var step = params.get('step');

      if (step) setProgress(step);
      else setProgress(1);
    })();
  </script>
</body>
</html>
